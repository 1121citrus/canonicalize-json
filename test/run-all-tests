#!/usr/bin/env bash

set -euo pipefail

# Determine the full pathname of the directory in which this script lives
function script-dir() {
    (
        local srcpath="${BASH_SOURCE[0]}"
        local scriptdir=
        scriptdir="$(cd -P "$(dirname "${srcpath}")" >/dev/null 2>&1 && pwd || exit)"
        local scriptpath=
        scriptpath="$(realpath "${scriptdir}")"
        echo "${scriptpath}"
    )
}

while read -r test; do
    echo "Running test: ${test}"
    bash "${test}"
done < <(find "$(script-dir)/bin" -mindepth 1 -maxdepth 1 | sort)
